{"ast":null,"code":"'use strict';\n\n(function (global, factory) {\n  /* istanbul ignore next */\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    module.exports = factory();\n  } else {\n    if (!global) global = window;\n    global.MidiPlayer = factory();\n  }\n})(this, function () {\n  var R, J;\n  /* istanbul ignore else */\n\n  if (typeof React != 'undefined') {\n    R = React;\n    J = JZZ;\n  } else {\n    R = require('react');\n    J = require('jzz');\n\n    require('jzz-midi-smf')(J);\n\n    require('jzz-gui-player')(J);\n\n    require('jzz-synth-tiny')(J);\n  }\n  /* istanbul ignore else */\n\n\n  if (J.synth.Tiny) J.synth.Tiny.register('Web Audio');\n  /* istanbul ignore next */\n\n  function noop() {}\n\n  function MidiPlayer(props) {\n    const ref = R.useRef(null);\n    var player;\n    var myData;\n    var mySrc;\n\n    function setData(data) {\n      if (myData == data) return;\n      myData = data;\n      if (!myData) return;\n\n      try {\n        player.load(new J.MIDI.SMF(myData));\n        if (props.autoplay) player.play();\n      } catch (e) {\n        console.log('Cannot load data:', e.message);\n      }\n    }\n\n    function setSrc(src) {\n      if (mySrc == src) return;\n      mySrc = src;\n      if (!mySrc) return;\n\n      try {\n        var xhttp = new XMLHttpRequest();\n\n        xhttp.onreadystatechange = function () {\n          /* istanbul ignore else */\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              try {\n                player.load(new J.MIDI.SMF(xhttp.response));\n                if (props.autoplay) player.play();\n              } catch (e) {\n                console.log('Cannot load \"' + mySrc + '\":', e.message);\n              }\n            } else {\n              console.log('Cannot load \"' + mySrc + '\": XMLHttpRequest error');\n            }\n          }\n        };\n\n        try {\n          xhttp.responseType = 'arraybuffer';\n        } catch (e) {\n          /**/\n        }\n\n        xhttp.overrideMimeType('text/plain; charset=x-user-defined');\n        xhttp.open('GET', mySrc, true);\n        xhttp.send();\n      } catch (e) {\n        /* istanbul ignore next */\n        console.log('XMLHttpRequest error', e);\n      }\n    }\n\n    function setLoop(loop) {\n      player.loop(loop || 0);\n    }\n\n    function setAutoplay(autoplay) {\n      if (autoplay) player.play();\n    }\n\n    R.useEffect(() => {\n      player = J.gui.Player(ref.current);\n      setSrc(props.src);\n      setData(props.data);\n      setLoop(props.loop);\n      setAutoplay(props.autoplay);\n      return (\n        /* istanbul ignore next */\n        () => {\n          ref.current.innerHTML = '';\n        }\n      );\n    });\n    R.useEffect(() => {\n      setSrc(props.src);\n      setAutoplay(props.autoplay);\n    }, [props.src]);\n    R.useEffect(() => {\n      setData(props.data);\n      setAutoplay(props.autoplay);\n    }, [props.data]);\n    R.useEffect(() => {\n      setLoop(props.loop);\n    }, [props.loop]);\n    R.useEffect(() => {\n      setAutoplay(props.autoplay);\n    }, [props.autoplay]);\n    R.useEffect(() => {\n      player.onPlay = props.onPlay || noop;\n    }, [props.onPlay]);\n    R.useEffect(() => {\n      player.onStop = props.onStop || noop;\n    }, [props.onStop]);\n    R.useEffect(() => {\n      player.onPause = props.onPause || noop;\n    }, [props.onPause]);\n    R.useEffect(() => {\n      player.onResume = props.onResume || noop;\n    }, [props.onResume]);\n    R.useEffect(() => {\n      player.onEnd = props.onEnd || noop;\n    }, [props.onEnd]);\n    return R.createElement('span', {\n      ref: ref\n    });\n  }\n\n  return MidiPlayer;\n});","map":{"version":3,"sources":["C:/Users/31505/Desktop/MemomusicFront1111-main/node_modules/react-midi-player/react-midi-player.js"],"names":["global","factory","exports","module","window","MidiPlayer","R","J","React","JZZ","require","synth","Tiny","register","noop","props","ref","useRef","player","myData","mySrc","setData","data","load","MIDI","SMF","autoplay","play","e","console","log","message","setSrc","src","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","response","responseType","overrideMimeType","open","send","setLoop","loop","setAutoplay","useEffect","gui","Player","current","innerHTML","onPlay","onStop","onPause","onResume","onEnd","createElement"],"mappings":"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","sourcesContent":["'use strict';\r\n(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory();\r\n  }\r\n  else {\r\n    if (!global) global = window;\r\n    global.MidiPlayer = factory();\r\n  }\r\n})(this, function() {\r\n\r\n  var R, J;\r\n  /* istanbul ignore else */\r\n  if (typeof React != 'undefined') {\r\n    R = React;\r\n    J = JZZ;\r\n  }\r\n  else {\r\n    R = require('react');\r\n    J = require('jzz');\r\n    require('jzz-midi-smf')(J);\r\n    require('jzz-gui-player')(J);\r\n    require('jzz-synth-tiny')(J);\r\n  }\r\n  /* istanbul ignore else */\r\n  if (J.synth.Tiny) J.synth.Tiny.register('Web Audio');\r\n\r\n  /* istanbul ignore next */\r\n  function noop() {}\r\n\r\n  function MidiPlayer(props) {\r\n    const ref = R.useRef(null);\r\n    var player;\r\n    var myData;\r\n    var mySrc;\r\n    function setData(data) {\r\n      if (myData == data) return;\r\n      myData = data;\r\n      if (!myData) return;\r\n      try {\r\n        player.load(new J.MIDI.SMF(myData));\r\n        if (props.autoplay) player.play();\r\n      }\r\n      catch(e) { console.log('Cannot load data:', e.message); }\r\n    }\r\n    function setSrc(src) {\r\n      if (mySrc == src) return;\r\n      mySrc = src;\r\n      if (!mySrc) return;\r\n      try {\r\n        var xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = function() {\r\n          /* istanbul ignore else */\r\n          if (this.readyState == 4) {\r\n            if (this.status == 200) {\r\n              try {\r\n                player.load(new J.MIDI.SMF(xhttp.response));\r\n                if (props.autoplay) player.play();\r\n              }\r\n              catch (e) {\r\n                console.log('Cannot load \"' + mySrc + '\":', e.message);\r\n              }\r\n            }\r\n            else {\r\n              console.log('Cannot load \"' + mySrc + '\": XMLHttpRequest error');\r\n            }\r\n          }\r\n        };\r\n        try {\r\n          xhttp.responseType = 'arraybuffer';\r\n        }\r\n        catch (e) {/**/}\r\n        xhttp.overrideMimeType('text/plain; charset=x-user-defined');\r\n        xhttp.open('GET', mySrc, true);\r\n        xhttp.send();\r\n      }\r\n      catch (e) {\r\n        /* istanbul ignore next */\r\n        console.log('XMLHttpRequest error', e);\r\n      }\r\n    }\r\n    function setLoop(loop) {\r\n      player.loop(loop || 0);\r\n    }\r\n    function setAutoplay(autoplay) {\r\n      if (autoplay) player.play();\r\n    }\r\n\r\n    R.useEffect(() => {\r\n      player = J.gui.Player(ref.current);\r\n      setSrc(props.src);\r\n      setData(props.data);\r\n      setLoop(props.loop);\r\n      setAutoplay(props.autoplay);\r\n      return /* istanbul ignore next */ () => { ref.current.innerHTML = ''; };\r\n    });\r\n    R.useEffect(() => { setSrc(props.src); setAutoplay(props.autoplay); }, [props.src]);\r\n    R.useEffect(() => { setData(props.data); setAutoplay(props.autoplay); }, [props.data]);\r\n    R.useEffect(() => { setLoop(props.loop); }, [props.loop]);\r\n    R.useEffect(() => { setAutoplay(props.autoplay); }, [props.autoplay]);\r\n    R.useEffect(() => { player.onPlay = props.onPlay || noop; }, [props.onPlay]);\r\n    R.useEffect(() => { player.onStop = props.onStop || noop; }, [props.onStop]);\r\n    R.useEffect(() => { player.onPause = props.onPause || noop; }, [props.onPause]);\r\n    R.useEffect(() => { player.onResume = props.onResume || noop; }, [props.onResume]);\r\n    R.useEffect(() => { player.onEnd = props.onEnd || noop; }, [props.onEnd]);\r\n    return R.createElement('span', { ref: ref });\r\n  }\r\n\r\n  return MidiPlayer;\r\n});\r\n"]},"metadata":{},"sourceType":"script"}